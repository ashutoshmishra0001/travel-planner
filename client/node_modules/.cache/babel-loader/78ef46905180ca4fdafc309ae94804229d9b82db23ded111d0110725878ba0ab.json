{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Link}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{getAllTrips,deleteTrip}from'../services/api';import ItineraryList from'../components/ItineraryList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=()=>{const{user}=useAuth();const[trips,setTrips]=useState([]);const[loading,setLoading]=useState(true);const fetchTrips=useCallback(async()=>{if(!user){setLoading(false);return;}try{const{data}=await getAllTrips();setTrips(data);}catch(error){console.error(\"Error fetching trips:\",error);}finally{setLoading(false);}},[user]);useEffect(()=>{fetchTrips();},[fetchTrips]);const handleDelete=async id=>{if(window.confirm('Are you sure you want to delete this trip?')){try{await deleteTrip(id);fetchTrips();}catch(error){console.error(\"Failed to delete trip:\",error);}}};if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative isolate px-6 pt-14 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto max-w-2xl py-32 sm:py-48 lg:py-56\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl\",children:\"Your Adventure, Perfectly Planned\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-6 text-lg leading-8 text-gray-600\",children:\"Create, customize, and collaborate on travel itineraries with interactive maps and seamless booking integration. Your next journey starts here.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 flex items-center justify-center gap-x-6\",children:[/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\",children:\"Get started\"}),/*#__PURE__*/_jsxs(Link,{to:\"/login\",className:\"text-sm font-semibold leading-6 text-gray-900\",children:[\"Log in \",/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\u2192\"})]})]})]})})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4 md:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justify-between items-center mb-8 gap-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-800\",children:\"Your Trips\"}),/*#__PURE__*/_jsx(Link,{to:\"/planner\",className:\"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700\",children:\"+ Plan New Trip\"})]}),loading?/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"Loading your adventures...\"}):/*#__PURE__*/_jsx(ItineraryList,{trips:trips,onDelete:handleDelete})]});};export default HomePage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","useAuth","getAllTrips","deleteTrip","ItineraryList","jsx","_jsx","jsxs","_jsxs","HomePage","user","trips","setTrips","loading","setLoading","fetchTrips","data","error","console","handleDelete","id","window","confirm","className","children","to","onDelete"],"sources":["D:/travel-planner-app/client/src/pages/HomePage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { getAllTrips, deleteTrip } from '../services/api';\r\nimport ItineraryList from '../components/ItineraryList';\r\n\r\nconst HomePage = () => {\r\n    const { user } = useAuth();\r\n    const [trips, setTrips] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const fetchTrips = useCallback(async () => {\r\n        if (!user) {\r\n            setLoading(false);\r\n            return;\r\n        }\r\n        try {\r\n            const { data } = await getAllTrips();\r\n            setTrips(data);\r\n        } catch (error) {\r\n            console.error(\"Error fetching trips:\", error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        fetchTrips();\r\n    }, [fetchTrips]);\r\n\r\n    const handleDelete = async (id) => {\r\n        if (window.confirm('Are you sure you want to delete this trip?')) {\r\n            try {\r\n                await deleteTrip(id);\r\n                fetchTrips();\r\n            } catch (error) {\r\n                console.error(\"Failed to delete trip:\", error);\r\n            }\r\n        }\r\n    };\r\n\r\n    if (!user) {\r\n        return (\r\n            <div className=\"bg-white\">\r\n                <div className=\"relative isolate px-6 pt-14 lg:px-8\">\r\n                    <div className=\"mx-auto max-w-2xl py-32 sm:py-48 lg:py-56\">\r\n                        <div className=\"text-center\">\r\n                            <h1 className=\"text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl\">Your Adventure, Perfectly Planned</h1>\r\n                            <p className=\"mt-6 text-lg leading-8 text-gray-600\">Create, customize, and collaborate on travel itineraries with interactive maps and seamless booking integration. Your next journey starts here.</p>\r\n                            <div className=\"mt-10 flex items-center justify-center gap-x-6\">\r\n                                <Link to=\"/signup\" className=\"rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\">Get started</Link>\r\n                                <Link to=\"/login\" className=\"text-sm font-semibold leading-6 text-gray-900\">Log in <span aria-hidden=\"true\">â†’</span></Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mx-auto p-4 md:p-6\">\r\n            <div className=\"flex flex-col md:flex-row justify-between items-center mb-8 gap-4\">\r\n                <h1 className=\"text-4xl font-bold text-gray-800\">Your Trips</h1>\r\n                <Link to=\"/planner\" className=\"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700\">\r\n                    + Plan New Trip\r\n                </Link>\r\n            </div>\r\n            {loading ? <p className=\"text-center\">Loading your adventures...</p> : <ItineraryList trips={trips} onDelete={handleDelete} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HomePage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,OAAO,KAAQ,wBAAwB,CAChD,OAASC,WAAW,CAAEC,UAAU,KAAQ,iBAAiB,CACzD,MAAO,CAAAC,aAAa,KAAM,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExD,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAEC,IAAK,CAAC,CAAGT,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAE5C,KAAM,CAAAkB,UAAU,CAAGhB,WAAW,CAAC,SAAY,CACvC,GAAI,CAACW,IAAI,CAAE,CACPI,UAAU,CAAC,KAAK,CAAC,CACjB,OACJ,CACA,GAAI,CACA,KAAM,CAAEE,IAAK,CAAC,CAAG,KAAM,CAAAd,WAAW,CAAC,CAAC,CACpCU,QAAQ,CAACI,IAAI,CAAC,CAClB,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CACjD,CAAC,OAAS,CACNH,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAAE,CAACJ,IAAI,CAAC,CAAC,CAEVZ,SAAS,CAAC,IAAM,CACZiB,UAAU,CAAC,CAAC,CAChB,CAAC,CAAE,CAACA,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAI,YAAY,CAAG,KAAO,CAAAC,EAAE,EAAK,CAC/B,GAAIC,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,CAAE,CAC9D,GAAI,CACA,KAAM,CAAAnB,UAAU,CAACiB,EAAE,CAAC,CACpBL,UAAU,CAAC,CAAC,CAChB,CAAE,MAAOE,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAClD,CACJ,CACJ,CAAC,CAED,GAAI,CAACP,IAAI,CAAE,CACP,mBACIJ,IAAA,QAAKiB,SAAS,CAAC,UAAU,CAAAC,QAAA,cACrBlB,IAAA,QAAKiB,SAAS,CAAC,qCAAqC,CAAAC,QAAA,cAChDlB,IAAA,QAAKiB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,cACtDhB,KAAA,QAAKe,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxBlB,IAAA,OAAIiB,SAAS,CAAC,6DAA6D,CAAAC,QAAA,CAAC,mCAAiC,CAAI,CAAC,cAClHlB,IAAA,MAAGiB,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAC,iJAA+I,CAAG,CAAC,cACvMhB,KAAA,QAAKe,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAC3DlB,IAAA,CAACN,IAAI,EAACyB,EAAE,CAAC,SAAS,CAACF,SAAS,CAAC,qNAAqN,CAAAC,QAAA,CAAC,aAAW,CAAM,CAAC,cACrQhB,KAAA,CAACR,IAAI,EAACyB,EAAE,CAAC,QAAQ,CAACF,SAAS,CAAC,+CAA+C,CAAAC,QAAA,EAAC,SAAO,cAAAlB,IAAA,SAAM,cAAY,MAAM,CAAAkB,QAAA,CAAC,QAAC,CAAM,CAAC,EAAM,CAAC,EAC1H,CAAC,EACL,CAAC,CACL,CAAC,CACL,CAAC,CACL,CAAC,CAEd,CAEA,mBACIhB,KAAA,QAAKe,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eACzChB,KAAA,QAAKe,SAAS,CAAC,mEAAmE,CAAAC,QAAA,eAC9ElB,IAAA,OAAIiB,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,cAChElB,IAAA,CAACN,IAAI,EAACyB,EAAE,CAAC,UAAU,CAACF,SAAS,CAAC,2JAA2J,CAAAC,QAAA,CAAC,iBAE1L,CAAM,CAAC,EACN,CAAC,CACLX,OAAO,cAAGP,IAAA,MAAGiB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,4BAA0B,CAAG,CAAC,cAAGlB,IAAA,CAACF,aAAa,EAACO,KAAK,CAAEA,KAAM,CAACe,QAAQ,CAAEP,YAAa,CAAE,CAAC,EAC7H,CAAC,CAEd,CAAC,CAED,cAAe,CAAAV,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}