{"ast":null,"code":"var _jsxFileName = \"D:\\\\travel-planner-app\\\\client\\\\src\\\\pages\\\\PlannerPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { getTripById, createTrip, updateTrip } from '../services/api';\nimport MapComponent from '../components/MapComponent';\nimport TripDetails from '../components/TripDetails';\nimport CreateTrip from '../components/CreateTrip';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PlannerPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [trip, setTrip] = useState(null);\n  const [loading, setLoading] = useState(!!id);\n  const [error, setError] = useState(null);\n  const fetchTrip = useCallback(async () => {\n    if (!id) return;\n    try {\n      setLoading(true);\n      const response = await getTripById(id);\n      setTrip(response.data);\n    } catch (err) {\n      setError(\"Could not fetch trip details.\");\n      console.error(\"Error fetching trip:\", err);\n    } finally {\n      setLoading(false);\n    }\n  }, [id]);\n  useEffect(() => {\n    fetchTrip();\n  }, [fetchTrip]);\n  const handleSave = async tripData => {\n    try {\n      let savedTrip;\n      if (id) {\n        // Update existing trip\n        savedTrip = await updateTrip(id, tripData);\n        setTrip(savedTrip.data);\n      } else {\n        // Create new trip\n        savedTrip = await createTrip(tripData);\n        navigate(`/planner/${savedTrip.data._id}`);\n      }\n    } catch (err) {\n      setError(\"Failed to save trip.\");\n      console.error(\"Failed to save trip:\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lg:col-span-2 rounded-lg overflow-hidden shadow-lg map-container\",\n      children: /*#__PURE__*/_jsxDEV(MapComponent, {\n        route: trip ? trip.route : []\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lg:col-span-1 bg-white p-6 rounded-lg shadow-lg\",\n      children: [loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading planner...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 29\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 27\n      }, this), !loading && !error && (id && trip ? /*#__PURE__*/_jsxDEV(TripDetails, {\n        trip: trip,\n        onSave: handleSave\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 34\n      }, this) : /*#__PURE__*/_jsxDEV(CreateTrip, {\n        onSave: handleSave\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 84\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n_s(PlannerPage, \"9NzxSIJZ23g+2Gp6gI6AhIlCFc4=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = PlannerPage;\nexport default PlannerPage;\nvar _c;\n$RefreshReg$(_c, \"PlannerPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","getTripById","createTrip","updateTrip","MapComponent","TripDetails","CreateTrip","jsxDEV","_jsxDEV","PlannerPage","_s","id","navigate","trip","setTrip","loading","setLoading","error","setError","fetchTrip","response","data","err","console","handleSave","tripData","savedTrip","_id","className","children","route","fileName","_jsxFileName","lineNumber","columnNumber","onSave","_c","$RefreshReg$"],"sources":["D:/travel-planner-app/client/src/pages/PlannerPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { getTripById, createTrip, updateTrip } from '../services/api';\r\nimport MapComponent from '../components/MapComponent';\r\nimport TripDetails from '../components/TripDetails';\r\nimport CreateTrip from '../components/CreateTrip';\r\n\r\nconst PlannerPage = () => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const [trip, setTrip] = useState(null);\r\n    const [loading, setLoading] = useState(!!id);\r\n    const [error, setError] = useState(null);\r\n\r\n    const fetchTrip = useCallback(async () => {\r\n        if (!id) return;\r\n        try {\r\n            setLoading(true);\r\n            const response = await getTripById(id);\r\n            setTrip(response.data);\r\n        } catch (err) {\r\n            setError(\"Could not fetch trip details.\");\r\n            console.error(\"Error fetching trip:\", err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [id]);\r\n\r\n    useEffect(() => {\r\n        fetchTrip();\r\n    }, [fetchTrip]);\r\n\r\n    const handleSave = async (tripData) => {\r\n        try {\r\n            let savedTrip;\r\n            if (id) {\r\n                // Update existing trip\r\n                savedTrip = await updateTrip(id, tripData);\r\n                setTrip(savedTrip.data);\r\n            } else {\r\n                // Create new trip\r\n                savedTrip = await createTrip(tripData);\r\n                navigate(`/planner/${savedTrip.data._id}`);\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to save trip.\");\r\n            console.error(\"Failed to save trip:\", err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full\">\r\n            <div className=\"lg:col-span-2 rounded-lg overflow-hidden shadow-lg map-container\">\r\n                 <MapComponent route={trip ? trip.route : []} />\r\n            </div>\r\n            <div className=\"lg:col-span-1 bg-white p-6 rounded-lg shadow-lg\">\r\n                {loading && <p>Loading planner...</p>}\r\n                {error && <p className=\"text-red-500\">{error}</p>}\r\n                {!loading && !error && (\r\n                    id && trip ? <TripDetails trip={trip} onSave={handleSave} /> : <CreateTrip onSave={handleSave} />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PlannerPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}