{"ast":null,"code":"var _jsxFileName = \"D:\\\\travel-planner-app\\\\client\\\\src\\\\pages\\\\PlannerPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { getTripById, createTrip, updateTrip } from '../services/api';\nimport MapComponent from '../components/MapComponent';\nimport TripDetails from '../components/TripDetails';\nimport { CreateTrip } from '../components/CreateTrip'; // Note: Named import\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PlannerPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [trip, setTrip] = useState(null);\n  const [loading, setLoading] = useState(!!id);\n  const [error, setError] = useState(null);\n  const fetchTrip = useCallback(async () => {\n    if (!id) return;\n    try {\n      setLoading(true);\n      const {\n        data\n      } = await getTripById(id);\n      setTrip(data);\n    } catch (err) {\n      setError(\"Could not fetch trip details.\");\n      console.error(\"Error fetching trip:\", err);\n    } finally {\n      setLoading(false);\n    }\n  }, [id]);\n  useEffect(() => {\n    fetchTrip();\n  }, [fetchTrip]);\n  const handleSave = async tripData => {\n    try {\n      if (id) {\n        const {\n          data\n        } = await updateTrip(id, tripData);\n        setTrip(data);\n      } else {\n        const {\n          data\n        } = await createTrip(tripData);\n        navigate(`/planner/${data._id}`);\n      }\n    } catch (err) {\n      setError(\"Failed to save trip.\");\n      console.error(\"Failed to save trip:\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-5 gap-8 h-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-3 h-[60vh] lg:h-[calc(100vh-12rem)] rounded-lg overflow-hidden shadow-lg\",\n        children: /*#__PURE__*/_jsxDEV(MapComponent, {\n          route: trip ? trip.route : []\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 bg-white p-6 rounded-lg shadow-lg\",\n        children: [loading && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-gray-500\",\n          children: \"Loading planner...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 33\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-red-500\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 31\n        }, this), !loading && !error && (id && trip ? /*#__PURE__*/_jsxDEV(TripDetails, {\n          trip: trip,\n          onSave: handleSave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(CreateTrip, {\n          onSave: handleSave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s(PlannerPage, \"9NzxSIJZ23g+2Gp6gI6AhIlCFc4=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = PlannerPage;\nexport default PlannerPage;\nvar _c;\n$RefreshReg$(_c, \"PlannerPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","getTripById","createTrip","updateTrip","MapComponent","TripDetails","CreateTrip","jsxDEV","_jsxDEV","PlannerPage","_s","id","navigate","trip","setTrip","loading","setLoading","error","setError","fetchTrip","data","err","console","handleSave","tripData","_id","className","children","route","fileName","_jsxFileName","lineNumber","columnNumber","onSave","_c","$RefreshReg$"],"sources":["D:/travel-planner-app/client/src/pages/PlannerPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { getTripById, createTrip, updateTrip } from '../services/api';\r\nimport MapComponent from '../components/MapComponent';\r\nimport TripDetails from '../components/TripDetails';\r\nimport { CreateTrip } from '../components/CreateTrip'; // Note: Named import\r\n\r\nconst PlannerPage = () => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const [trip, setTrip] = useState(null);\r\n    const [loading, setLoading] = useState(!!id);\r\n    const [error, setError] = useState(null);\r\n\r\n    const fetchTrip = useCallback(async () => {\r\n        if (!id) return;\r\n        try {\r\n            setLoading(true);\r\n            const { data } = await getTripById(id);\r\n            setTrip(data);\r\n        } catch (err) {\r\n            setError(\"Could not fetch trip details.\");\r\n            console.error(\"Error fetching trip:\", err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [id]);\r\n\r\n    useEffect(() => {\r\n        fetchTrip();\r\n    }, [fetchTrip]);\r\n\r\n    const handleSave = async (tripData) => {\r\n        try {\r\n            if (id) {\r\n                const { data } = await updateTrip(id, tripData);\r\n                setTrip(data);\r\n            } else {\r\n                const { data } = await createTrip(tripData);\r\n                navigate(`/planner/${data._id}`);\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to save trip.\");\r\n            console.error(\"Failed to save trip:\", err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container mx-auto p-4\">\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-8 h-full\">\r\n                {/* Map takes up more space on large screens */}\r\n                <div className=\"lg:col-span-3 h-[60vh] lg:h-[calc(100vh-12rem)] rounded-lg overflow-hidden shadow-lg\">\r\n                    <MapComponent route={trip ? trip.route : []} />\r\n                </div>\r\n                \r\n                {/* Details/Create Form */}\r\n                <div className=\"lg:col-span-2 bg-white p-6 rounded-lg shadow-lg\">\r\n                    {loading && <p className=\"text-center text-gray-500\">Loading planner...</p>}\r\n                    {error && <p className=\"text-center text-red-500\">{error}</p>}\r\n                    {!loading && !error && (\r\n                        id && trip ? (\r\n                            <TripDetails trip={trip} onSave={handleSave} />\r\n                        ) : (\r\n                            <CreateTrip onSave={handleSave} />\r\n                        )\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PlannerPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}